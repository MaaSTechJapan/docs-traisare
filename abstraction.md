# Abstraction
## Background
公共交通情報の統一フォーマットのデファクトスタンダードと言えるのが、[GTFS](https://developers.google.com/transit/?hl=ja)である。これは交通事業者が駅、バス停、時刻表、ルートなどの情報を記述するために規定されたデータフォーマットである。元々Google Mapsで公共交通情報を処理するために規定されたフォーマットであるが、現在は一般にも公開され、事業者によってはオープンデータとして配布しているケースもある。このフォーマットの最大のメリットは、作成したデータを登録することでGoogle Maps上へ情報を表示・検索できるようになることである。中小の事業者では自社でスマートフォンサービスをメンテナンスすることが難しい場合があり、データを用意するだけで世界最大の地図基盤に情報提供をできるメリットは大きい。しかし、欧米発祥ということもあり日本の交通事情に即していないケースも見受けられるため、最近では国土交通省より[標準的なバス情報フォーマット](http://www.mlit.go.jp/sogoseisaku/transport/sosei_transport_tk_000067.html)としてGTFSを拡張した仕様を公開している。鉄道に関しては、まだ日本の事情に即したフォーマットは提供されていない。

日本の公共交通情報の提供としては、公共交通オープンデータ協議会(ODPT)が挙げられる。現在59事業者が参画しており、商用利用可能な形で10事業者がデータの公開を行なっている。ODPTでは鉄道、バス、航空機の情報を提供している。  
また海外では公共交通情報をオープンデータとして提供するトレンドが2014年頃より広がり、ロンドンにおける[TfL](https://tfl.gov.uk/)、フィンランドにおける[DigiTraffic](https://www.digitraffic.fi/en/)、サンフランシスコ市における[SFMTA](https://www.sfmta.com/reports/gtfs-transit-data)など数多くの公共交通情報が提供されるようになってきている。これら諸外国では、交通機関は官営あるいは一社独占で提供する場合が多く、データの提供を開始する場合は、すべての交通機関のデータを一括して提供することが可能である。  
日本ではJRグループとその他私鉄、更にバス事業者、タクシー事業者といった数多くのステークホルダーが存在し、それぞれの経営判断や社内事情などもあって、データを一括して提供するといった事業は、1事業者だけでは実現困難と言える。加えて各社から配信されるデータが異なるという事情が、この問題を更に困難にしている。データはGTFS形式である程度統一されているが、事業者毎に異なる基幹システム、各社の事情を考慮した情報量の担保、加えてGTFS以上の情報量を持たせることなどの事業者毎の課題を吸収しなければならない。これら事情を考慮したデータ統合基盤は存在せず、MaaSの実現に向けた足かせとなっているのが現状である。

## Data Flow
TraISAREでは交通事業ごとに存在する、さまざまな種類・形式のデータを収集・蓄積し、共通のデータ形式に変換する。変換データは統合され、利用者へ提供する。TraISAREでは以下のフローでデータを処理する。
- 各交通事業者のデータを受信する
- 受信したデータを統一データ形式に変換する
- 変換したデータを統計処理、機械学習で処理し、集計、予測データを出力する

## TraIIRe Data Format
TraISAREは様々なフォーマットの交通データを抽象化したデータ形式で保持する。これまで交通データは1つの地点(例えば駅やバス停)を基準としたデータで保持されることが多かったが、TraISAREではデータを地点 - 地点を結ぶベクトルを基準としてデータを保持する。これにより移動に必要な出発地 -目的地のベクトルに対して様々情報を付加することを可能にする。TraISAREではこのデータ形式を移動情報の中間表現 **Tra**nsport **I**nformation **I**ntermediate **Re**presentation と考え、TraIIReデータ形式と命名する。


